<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">
    <title>On A WebPage Far Far Away...</title>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark d-flex flex-row justify-content-center inverted">
        <!-- Links -->
        <!-- <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">Link 1</a>
            </li>
        </ul> -->
        <!-- Navbar text-->
        <span class="navbar-text">
            Star Wars Themed Darkmode CSS
        </span>
    </nav>

    <section id="main-section" class="main-sec">
        <div class="row text-center main-row">
            <div class="col-lg-6 border main-col d-flex justify-content-center align-items-center">
                <div class="tile">
                    <img src="images/anakin_lightsaber.jpg" alt="" class="inverted" width="280px" height="400px">
                </div>
            </div>

            <div class="toggle-btn-div">
                <button class="toggle-btn">Toggle Dark Mode</button>
            </div>

            <div class="col-lg-6 border d-flex justify-content-center align-items-center">
                <div class="tile">
                    <img src="images/darth_vader_lightsaber.jpg" alt="" class="inverted not-focused" width="280px"
                        height="400px">
                </div>
            </div>
        </div>
    </section>

    <hr>

    <section id="info">
        <div class="info-main">
            Info Part
        </div>
    </section>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>

    <script>
        if (document.readyState == "loading") {
            document.addEventListener("DOMContentLoaded", ready);
        } else {
            ready();
        }

        function ready() {
            // getting all the elements
            let btn = document.getElementsByClassName('toggle-btn')[0];

            btn.addEventListener('click', () => {
                // get the tiles after toggling btn
                let tile = document.getElementsByClassName('tile');
                console.log(tile)
                // toggling every element
                document.documentElement.classList.toggle('dark-mode');
                // reverting the elements which are not supposed to invert
                document.querySelectorAll('.inverted').forEach((result) => {
                    result.classList.toggle('invert');
                })
                // blurring the unfocused tile
                for (let index = 0; index < tile.length; index++) {
                    if (tile[index].classList.contains('not-focused')) {
                        tile[index].classList.remove('not-focused');
                    } else tile[index].classList.add('not-focused');
                }
            })
        }

        // document.onkeypress = function (e) {
        //     e = e || window.event;

        //     if (e.keyCode === 13) { // Enter key code
        //         document.documentElement.classList.toggle('dark-mode');

        //         document.querySelectorAll('.inverted').forEach((result) => {
        //             result.classList.toggle('invert');
        //         })
        //     }
        // }
    </script>
</body>

</html>